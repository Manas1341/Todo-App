{"ast":null,"code":"import _defineProperty from\"C:/Users/manas/OneDrive/Desktop/Study Material/Web Developement/React.js/inotebook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/manas/OneDrive/Desktop/Study Material/Web Developement/React.js/inotebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/manas/OneDrive/Desktop/Study Material/Web Developement/React.js/inotebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{useContext}from'react';import noteContext from\"../context/notes/noteContex\";import Noteitem from'./Noteitem';import AddNote from'./AddNote';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var context=useContext(noteContext);var navigate=useNavigate();var notes=context.notes,getnotes=context.getnotes,EditNote=context.EditNote;useEffect(function(){if(localStorage.getItem('token')){getnotes();}else{navigate(\"/login\");}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleclick=function handleclick(e){console.log(note);EditNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();props.showAlert(\"updated successfully\",\"success\");};var onchange=function onchange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onchange,minLength:5,required:true}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onchange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onchange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,type:\"button\",onClick:handleclick,className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-1\",children:notes.length===0&&\"No notes to display\"}),notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{updateNote:updateNote,showAlert:props.showAlert,note:note},note._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useEffect","useRef","useState","useContext","noteContext","Noteitem","AddNote","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","navigate","notes","getnotes","EditNote","localStorage","getItem","ref","refClose","_useState","id","etitle","edescription","etag","_useState2","_slicedToArray","note","setNote","updateNote","currentNote","current","click","_id","title","description","tag","handleclick","e","console","log","showAlert","onchange","_objectSpread","_defineProperty","target","name","value","children","type","className","tabIndex","role","htmlFor","onChange","minLength","required","disabled","length","onClick","map"],"sources":["C:/Users/manas/OneDrive/Desktop/Study Material/Web Developement/React.js/inotebook/src/components/Notes.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { useContext } from 'react'\r\nimport noteContext from \"../context/notes/noteContex\"\r\nimport Noteitem from './Noteitem'\r\nimport AddNote from './AddNote'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Notes = (props) => {\r\n  const context = useContext(noteContext)\r\n  let navigate = useNavigate()\r\n  const { notes, getnotes , EditNote } = context\r\n  useEffect(() => {\r\n    if(localStorage.getItem('token')){\r\n      getnotes()\r\n    }\r\n    else{\r\n      navigate(\"/login\")\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [])\r\n  const ref = useRef(null)\r\n  const refClose = useRef(null)\r\n  const [note, setNote] = useState({id:\"\", etitle: \"\", edescription: \"\", etag: \"\" })\r\n\r\n  const updateNote = (currentNote) => {\r\n    ref.current.click()\r\n    setNote({id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag })\r\n  }\r\n\r\n  const handleclick = (e) => {\r\n    console.log(note)\r\n    EditNote(note.id , note.etitle , note.edescription , note.etag)\r\n    refClose.current.click()\r\n    props.showAlert(\"updated successfully\",\"success\")\r\n  }\r\n  const onchange = (e) => {\r\n    setNote({ ...note, [e.target.name]: e.target.value })\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <AddNote showAlert={props.showAlert} />\r\n      <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n        Launch demo modal\r\n      </button>\r\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\r\n              <button type=\"button\" className=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"etitle\" name='etitle' value={note.etitle} aria-describedby=\"emailHelp\" onChange={onchange} minLength={5} required />\r\n                  <div id=\"emailHelp\" className=\"form-text\"></div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"edescription\" name='edescription' value={note.edescription} onChange={onchange} minLength={5} required />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"etag\" name='etag' value={note.etag} onChange={onchange} />\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n              <button disabled={note.etitle.length < 5 || note.edescription.length < 5} type=\"button\" onClick={handleclick} className=\"btn btn-primary\">Update Note</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row my-3\">\r\n        <h3>Your notes</h3>\r\n        <div className=\"container mx-1\">\r\n          {notes.length === 0 && \"No notes to display\"}\r\n        </div>\r\n        {notes.map((note) => {\r\n          return <Noteitem key={note._id} updateNote={updateNote} showAlert={props.showAlert} note={note} />\r\n        })}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Notes\r\n"],"mappings":"yfAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAO,CAAAC,WAAW,KAAM,6BAA6B,CACrD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,OAASC,WAAW,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE9C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,KAAK,CAAK,CACvB,GAAM,CAAAC,OAAO,CAAGb,UAAU,CAACC,WAAW,CAAC,CACvC,GAAI,CAAAa,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC5B,GAAQ,CAAAW,KAAK,CAA0BF,OAAO,CAAtCE,KAAK,CAAEC,QAAQ,CAAgBH,OAAO,CAA/BG,QAAQ,CAAGC,QAAQ,CAAKJ,OAAO,CAApBI,QAAQ,CAClCpB,SAAS,CAAC,UAAM,CACd,GAAGqB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAC/BH,QAAQ,CAAC,CAAC,CACZ,CAAC,IACG,CACFF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACA;AACF,CAAC,CAAE,EAAE,CAAC,CACN,GAAM,CAAAM,GAAG,CAAGtB,MAAM,CAAC,IAAI,CAAC,CACxB,GAAM,CAAAuB,QAAQ,CAAGvB,MAAM,CAAC,IAAI,CAAC,CAC7B,IAAAwB,SAAA,CAAwBvB,QAAQ,CAAC,CAACwB,EAAE,CAAC,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAA3EO,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpB,GAAM,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,WAAW,CAAK,CAClCZ,GAAG,CAACa,OAAO,CAACC,KAAK,CAAC,CAAC,CACnBJ,OAAO,CAAC,CAACP,EAAE,CAAES,WAAW,CAACG,GAAG,CAAEX,MAAM,CAAEQ,WAAW,CAACI,KAAK,CAAEX,YAAY,CAAEO,WAAW,CAACK,WAAW,CAAEX,IAAI,CAAEM,WAAW,CAACM,GAAI,CAAC,CAAC,CAC1H,CAAC,CAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,CAAC,CAAK,CACzBC,OAAO,CAACC,GAAG,CAACb,IAAI,CAAC,CACjBZ,QAAQ,CAACY,IAAI,CAACN,EAAE,CAAGM,IAAI,CAACL,MAAM,CAAGK,IAAI,CAACJ,YAAY,CAAGI,IAAI,CAACH,IAAI,CAAC,CAC/DL,QAAQ,CAACY,OAAO,CAACC,KAAK,CAAC,CAAC,CACxBtB,KAAK,CAAC+B,SAAS,CAAC,sBAAsB,CAAC,SAAS,CAAC,CACnD,CAAC,CACD,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIJ,CAAC,CAAK,CACtBV,OAAO,CAAAe,aAAA,CAAAA,aAAA,IAAMhB,IAAI,KAAAiB,eAAA,IAAGN,CAAC,CAACO,MAAM,CAACC,IAAI,CAAGR,CAAC,CAACO,MAAM,CAACE,KAAK,EAAE,CAAC,CACvD,CAAC,CAED,mBACEzC,KAAA,CAAAE,SAAA,EAAAwC,QAAA,eACE5C,IAAA,CAACH,OAAO,EAACwC,SAAS,CAAE/B,KAAK,CAAC+B,SAAU,CAAE,CAAC,cACvCrC,IAAA,WAAQc,GAAG,CAAEA,GAAI,CAAC+B,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,wBAAwB,CAAC,iBAAe,OAAO,CAAC,iBAAe,eAAe,CAAAF,QAAA,CAAC,mBAEzH,CAAQ,CAAC,cACT5C,IAAA,QAAK8C,SAAS,CAAC,YAAY,CAAC7B,EAAE,CAAC,cAAc,CAAC8B,QAAQ,CAAC,IAAI,CAACC,IAAI,CAAC,QAAQ,CAAC,kBAAgB,mBAAmB,CAAC,cAAY,MAAM,CAAAJ,QAAA,cAC9H5C,IAAA,QAAK8C,SAAS,CAAC,cAAc,CAACE,IAAI,CAAC,UAAU,CAAAJ,QAAA,cAC3C1C,KAAA,QAAK4C,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5B1C,KAAA,QAAK4C,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC3B5C,IAAA,OAAI8C,SAAS,CAAC,aAAa,CAAC7B,EAAE,CAAC,mBAAmB,CAAA2B,QAAA,CAAC,WAAS,CAAI,CAAC,cACjE5C,IAAA,WAAQ6C,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,OAAO,CAAC,kBAAgB,OAAO,CAAC,aAAW,OAAO,CAAAF,QAAA,cAChF5C,IAAA,SAAM,cAAY,MAAM,CAAA4C,QAAA,CAAC,MAAO,CAAM,CAAC,CACjC,CAAC,EACN,CAAC,cACN5C,IAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAF,QAAA,cACzB1C,KAAA,SAAA0C,QAAA,eACE1C,KAAA,QAAK4C,SAAS,CAAC,MAAM,CAAAF,QAAA,eACnB5C,IAAA,UAAOiD,OAAO,CAAC,OAAO,CAACH,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,OAAK,CAAO,CAAC,cAC3D5C,IAAA,UAAO6C,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAAC7B,EAAE,CAAC,QAAQ,CAACyB,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAEpB,IAAI,CAACL,MAAO,CAAC,mBAAiB,WAAW,CAACgC,QAAQ,CAAEZ,QAAS,CAACa,SAAS,CAAE,CAAE,CAACC,QAAQ,MAAE,CAAC,cACpKpD,IAAA,QAAKiB,EAAE,CAAC,WAAW,CAAC6B,SAAS,CAAC,WAAW,CAAM,CAAC,EAC7C,CAAC,cACN5C,KAAA,QAAK4C,SAAS,CAAC,MAAM,CAAAF,QAAA,eACnB5C,IAAA,UAAOiD,OAAO,CAAC,aAAa,CAACH,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,aAAW,CAAO,CAAC,cACvE5C,IAAA,UAAO6C,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAAC7B,EAAE,CAAC,cAAc,CAACyB,IAAI,CAAC,cAAc,CAACC,KAAK,CAAEpB,IAAI,CAACJ,YAAa,CAAC+B,QAAQ,CAAEZ,QAAS,CAACa,SAAS,CAAE,CAAE,CAACC,QAAQ,MAAE,CAAC,EACtJ,CAAC,cACNlD,KAAA,QAAK4C,SAAS,CAAC,MAAM,CAAAF,QAAA,eACnB5C,IAAA,UAAOiD,OAAO,CAAC,KAAK,CAACH,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,KAAG,CAAO,CAAC,cACvD5C,IAAA,UAAO6C,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAAC7B,EAAE,CAAC,MAAM,CAACyB,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEpB,IAAI,CAACH,IAAK,CAAC8B,QAAQ,CAAEZ,QAAS,CAAE,CAAC,EACvG,CAAC,EACF,CAAC,CACJ,CAAC,cACNpC,KAAA,QAAK4C,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC3B5C,IAAA,WAAQc,GAAG,CAAEC,QAAS,CAAC8B,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,mBAAmB,CAAC,kBAAgB,OAAO,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,cACzG5C,IAAA,WAAQqD,QAAQ,CAAE9B,IAAI,CAACL,MAAM,CAACoC,MAAM,CAAG,CAAC,EAAI/B,IAAI,CAACJ,YAAY,CAACmC,MAAM,CAAG,CAAE,CAACT,IAAI,CAAC,QAAQ,CAACU,OAAO,CAAEtB,WAAY,CAACa,SAAS,CAAC,iBAAiB,CAAAF,QAAA,CAAC,aAAW,CAAQ,CAAC,EAC3J,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cACN1C,KAAA,QAAK4C,SAAS,CAAC,UAAU,CAAAF,QAAA,eACvB5C,IAAA,OAAA4C,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB5C,IAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAC5BnC,KAAK,CAAC6C,MAAM,GAAK,CAAC,EAAI,qBAAqB,CACzC,CAAC,CACL7C,KAAK,CAAC+C,GAAG,CAAC,SAACjC,IAAI,CAAK,CACnB,mBAAOvB,IAAA,CAACJ,QAAQ,EAAgB6B,UAAU,CAAEA,UAAW,CAACY,SAAS,CAAE/B,KAAK,CAAC+B,SAAU,CAACd,IAAI,CAAEA,IAAK,EAAzEA,IAAI,CAACM,GAAsE,CAAC,CACpG,CAAC,CAAC,EACC,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAxB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}